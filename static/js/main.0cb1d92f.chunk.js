(this["webpackJsonpflip-book-react-master"]=this["webpackJsonpflip-book-react-master"]||[]).push([[0],{30:function(t,e,n){},67:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n(19),c=n.n(r),i=(n(30),n(15)),o=n.n(i),u=n(0),s=n(20),l=n(4),g=n(3),b=n.n(g),f=function(t){return Math.pow(t,2)},h=function(t){return t<.5?f(2*t)/2:.5+function(t){return 1-f(1-t)}(2*(t-.5))/2},j=function(t,e){return e[t]||null},p=(b()(j),b()((function(t,e,n,a,r,c){if(1===t)return e-n;var i=j(a,c)?e-n:e/2;return i>r?i:r})),b()((function(t,e,n,a,r,c){if(1===t)return n;var i=j(a,c)?n:e/2;return i<r?i:r})),b()((function(t,e){return Math.round(t*e)})),b()((function(t,e){return Math.round(t*e)})),b()((function(t,e,n){return console.log("xMargin",t,e,n),(t-e*n)/2})),b()((function(t,e){return(t-e)/2})),b()((function(t){return Math.round(t)})),n(5)),d=n(12),O=n(25),m=n(23),v=[null,{url:"images/1.jpg",id:"8182045543"},{url:"images/2.jpg",id:"4591469984"},{url:"images/3.jpg",id:"3816263638"},{url:"images/4.jpg",id:"7912047691"},{url:"images/5.jpg",id:"4944943318"},{url:"images/6.jpg",id:"3800999370"}],x=new(function(t){Object(O.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={pageWidth:640,pageHeight:906,pages:v,leftPage:0,rightPage:1},t}return n}(p.a)),w=x;window.thaycacac=x;var k=n(24),y=n(22),M=n(6),I=function(){function t(e){Object(d.a)(this,t),e?Array.isArray(e)?this.m=e:this.m=Object(k.a)(e.m):this.m=Object(M.a)()}return Object(y.a)(t,[{key:"multiply",value:function(t){return Array.isArray(t)||(t=t.m),this.m=Object(M.b)(this.m,t)}},{key:"computeX",value:function(){return this.m[12]}},{key:"translate",value:function(t,e){return this.multiply(Object(M.d)(t,e))}},{key:"translateZ",value:function(t){return this.multiply(Object(M.e)(t))}},{key:"rotateY",value:function(t){return this.multiply(Object(M.c)(t))}},{key:"toString",value:function(){return"matrix3d(".concat(this.m.toString(),")")}}]),t}(),S=/Trident/.test(navigator.userAgent),P=.6,A=function(t,e,n,a,r,c,i,o,u,s){var l,g,b,f,h,j,p,d,O,m,v,x,w,k,y,M,S,P,A,D,W,Y,q,F,X,E;if(!e.direction)return[];for(M=e.progress,j=e.direction,1===n&&"left"===j&&(M=1-M,j="right"),g=(O="front"===t?e.frontImage:e.backImage)&&"url('".concat(O,"')"),y=a/10,p=r,x=!1,1===n?"back"===t&&(x=!0,p=r-a):"left"===j?"back"===t?p=a:x=!0:"front"===t?p=a:x=!0,(k=new I).translate(p,c),w=0,M>.5&&(w=2*-(M-.5)*180),"left"===j&&(w=-w),"back"===t&&(w+=180),w&&(x&&k.translate(a),k.rotateY(w),x&&k.translate(-a)),0===(q=M<.5?2*M*Math.PI:(1-2*(M-.5))*Math.PI)&&(q=1e-9),A=a/q,P=0,W=(f=q/10)/2/Math.PI*180,h=f/Math.PI*180,x&&(W=-q/Math.PI*180+h/2),"back"===t&&(W=-W,h=-h),u(1/0),s(-1/0),D=[],d=m=0,10;m<10;d=++m)b="".concat(d/9*100,"% 0px"),F=new I(k),S=x?q-P:P,X=Math.sin(S)*A,x&&(X=a-X),E=(1-Math.cos(S))*A,"back"===t&&(E=-E),F.translate(X),F.translateZ(E),F.rotateY(-W),(l=F.computeX())>o&&s(l),(l+=2*y)<i&&u(l),v=N(w-W,h),Y="perspective(".concat("2400px",") ").concat(F.toString()),P+=f,W+=h,D.push([t+d,g,v,b,Y,Math.abs(Math.round(E))]);return D},N=function(t,e,n){var a,r,c,i,o;return c=[],i=[-.5,-.25,0,.25,.5],n<1&&(a=1-n,r=i.map((function(n){return(1-Math.cos((t-e*n)/180*Math.PI))*a})),c.push("linear-gradient(to right,\n      rgba(0, 0, 0, ".concat(r[0],"),\n      rgba(0, 0, 0, ").concat(r[1],") 25%,\n      rgba(0, 0, 0, ").concat(r[2],") 50%,\n      rgba(0, 0, 0, ").concat(r[3],") 75%,\n      rgba(0, 0, 0, ").concat(r[4],"))"))),S||(30,200,o=i.map((function(n){return Math.max(Math.pow(Math.cos((t+30-e*n)/180*Math.PI),200),Math.pow(Math.cos((t-30-e*n)/180*Math.PI),200))})),c.push("linear-gradient(to right,\n      rgba(255, 255, 255, ".concat(o[0]*P,"),\n      rgba(255, 255, 255, ").concat(o[1]*P,") 25%,\n      rgba(255, 255, 255, ").concat(o[2]*P,") 50%,\n      rgba(255, 255, 255, ").concat(o[3]*P,") 75%,\n      rgba(255, 255, 255, ").concat(o[4]*P,"))"))),c.join(",")},D=b()((function(t,e,n,a,r){return!t.direction&&e>=n&&!(1===n&&!function(t,e){return t[e]&&t[e].url||null}(r,a-1))})),W=b()((function(t,e,n,a){return!t.direction&&e<n-a})),Y=b()((function(t){var e;return e=t/10,(e=Math.ceil(e+1))+"px"})),q=b()((function(t){return t+"px"})),F=b()((function(t,e){return"".concat(t,"px ").concat(e,"px")})),X=b()((function(t,e,n,a,r,c,i,o,u){return A("front",t,e,n,a,r,c,i,o,u).concat(A("back",t,e,n,a,r,c,i,o,u))})),E=(n(67),n(2)),H=void 0,z=function(t){var e=t.flipDuration,n=void 0===e?1e3:e,r=t.spaceTop,c=void 0===r?0:r,i=w.state,g=i.pageWidth,b=i.pageHeight,f=i.pages,j=i.leftPage,d=i.rightPage,O=Object(a.useState)(f.length),m=Object(l.a)(O,2),v=m[0],x=(m[1],Object(a.useState)(1)),k=Object(l.a)(x,2),y=k[0],M=k[1],I=Object(a.useState)(0),S=Object(l.a)(I,2),P=(S[0],S[1]),A=Object(a.useState)(0),N=Object(l.a)(A,2),z=(N[0],N[1]),B=Object(a.useState)(null),J=Object(l.a)(B,2),L=J[0],T=J[1],Z=Object(a.useState)(0),U=Object(l.a)(Z,2),$=U[0],C=U[1],G=Object(a.useState)(null),K=Object(l.a)(G,2),Q=K[0],R=K[1],V=Object(a.useState)(null),_=Object(l.a)(V,2),tt=_[0],et=_[1],nt=Object(a.useState)(!1),at=Object(l.a)(nt,2),rt=at[0],ct=(at[1],Object(a.useState)(1/0)),it=Object(l.a)(ct,2),ot=it[0],ut=it[1],st=Object(a.useState)(-1/0),lt=Object(l.a)(st,2),gt=lt[0],bt=lt[1],ft=Object(a.useState)({}),ht=Object(l.a)(ft,2),jt=ht[0],pt=(ht[1],Object(a.useState)({progress:0,direction:null,frontImage:null,backImage:null,auto:!1})),dt=Object(l.a)(pt,2),Ot=dt[0],mt=dt[1],vt=Object(a.useState)(0),xt=Object(l.a)(vt,2),wt=xt[0],kt=(xt[1],D(Ot,$,y,j,f)),yt=W(Ot,$,v,y),Mt=X(Ot,y,g,wt,c,ot,gt,ut,bt),It=F(g,b),St=Y(g),Pt=q(b);Object(a.useEffect)((function(){At(),Ht()}),[]),Object(a.useEffect)((function(){w.setState({leftPage:$,rightPage:$+1}),Ht()}),[$]);var At=function(){M(2*g>b?2:1)},Nt=function(t){return f[t]&&f[t].url||null},Dt=function(){var t=Object(s.a)(o.a.mark((function t(e,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return mt("left"===e?1===y?Object(u.a)(Object(u.a)({},Ot),{},{direction:e,frontImage:Nt($-1),backImage:null}):Object(u.a)(Object(u.a)({},Ot),{},{direction:e,frontImage:Nt(j),backImage:Nt($-y+1)}):1===y?Object(u.a)(Object(u.a)({},Ot),{},{direction:e,frontImage:Nt($),backImage:null}):Object(u.a)(Object(u.a)({},Ot),{},{direction:e,frontImage:Nt(d),backImage:Nt($+y)})),t.abrupt("return",requestAnimationFrame((function(){return requestAnimationFrame((function(){if("left"===e?2===y&&w.setState({leftPage:$-y}):1===y?w.setState({leftPage:$+y}):w.setState({rightPage:$+1+y}),n)return Wt(!0)}))})));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Wt=function(t){var e,a,r,c;return c=Date.now(),a=n*(1-Ot.progress),r=Ot.progress,mt(Object(u.a)(Object(u.a)({},Ot),{},{auto:!0})),(e=function(){return requestAnimationFrame((function(){var n,i;if(i=Date.now()-c,(n=r+i/a)>1&&(n=1),mt(Object(u.a)(Object(u.a)({},Ot),{},{progress:t?h(n):n})),n<1)return e();"left"===Ot.direction?C($-y):C($+y),1===y&&"right"===Ot.direction?mt(Object(u.a)(Object(u.a)({},Ot),{},{direction:null})):Yt(1,(function(){console.log("callback here"),mt(Object(u.a)(Object(u.a)({},Ot),{},{direction:null,auto:!1,progress:0}))}))}))})()},Yt=function(t,e){P(0),z(t),T(e)},qt=function(t){L&&L()},Ft=function(t){return null===Ot.direction||Ot.auto||(Ot.progress>1/4?Wt(!1):function(){var t,e,a,r;r=Date.now(),e=n*Ot.progress,a=Ot.progress,mt(Object(u.a)(Object(u.a)({},Ot),{},{auto:!0})),(t=function(){return requestAnimationFrame((function(){var n,c;return c=Date.now()-r,(n=a-a*c/e)<0&&(n=0),mt(Object(u.a)(Object(u.a)({},Ot),{},{progress:n})),n>0?t():(w.setState({leftPage:$,rightPage:$+1}),1===y&&"left"===Ot.direction?mt(Object(u.a)(Object(u.a)({},Ot),{},{direction:null,auto:!1})):Yt(1,(function(){mt(Object(u.a)(Object(u.a)({},Ot),{},{direction:null,auto:!1}))})),!1)}))})()}()),R(null),null},Xt=function(t){var e;if(!rt&&(!t.which||1===t.which))return R((e=t).pageX),void et(e.pageY)},Et=function(t){if(!rt&&(!t.which||1===t.which))return function(t){var e,n;if(null!=Q&&(e=t.pageX-Q,n=t.pageY-tt,!(Math.abs(n)>Math.abs(e))))return e>0?(null===Ot.direction&&kt&&e>=5&&Dt("left",!1),"left"===Ot.direction&&mt(Object(u.a)(Object(u.a)({},Ot),{},{progress:e/g<1?e/g:1}))):(null===Ot.direction&&yt&&e<=-5&&Dt("right",!1),"right"===Ot.direction&&mt(Object(u.a)(Object(u.a)({},Ot),{},{progress:-e/g<1?-e/g:1}))),!0}(t)},Ht=function(){var t,e,n,a,r,c,i;for(Object.keys(jt).length>=10&&(H.preloadedImages={}),c=[],t=n=a=$-3,r=$+3;a<=r?n<=r:n>=r;t=a<=r?++n:--n)(i=Nt(t))?jt[i]?c.push(void 0):((e=new Image).src=i,c.push(jt[i]=e)):c.push(void 0);return c};return Object(E.jsx)(p.c,{to:[w],children:function(t){var e=t.state,n=e.pageWidth,a=e.pageHeight,r=e.leftPage,i=e.rightPage;return Object(E.jsx)("div",{onMouseDown:function(t){return Xt(t)},onMouseMove:function(t){return Et(t)},onMouseUp:function(t){return function(t){if(!rt)return Ft()}()},style:{width:n*y+"px",height:a+"px",margin:"auto"},children:Object(E.jsx)("div",{className:"viewport",children:Object(E.jsxs)("div",{className:"container",style:{width:"100%"},children:[Object(E.jsxs)("div",{className:"centering-box",style:{width:n*y},children:[Nt(r)&&Object(E.jsx)("img",{className:"page fixed",style:{width:n+"px",height:a+"px",left:wt+"px",top:c+"px"},src:Nt(r),onLoad:function(t){return qt()}}),2===y&&Nt(i)&&Object(E.jsx)("img",{className:"page fixed",style:{width:n+"px",height:a+"px",left:n+"px",top:c+"px"},src:Nt(i),onLoad:function(t){return qt()}}),Mt.map((function(t,e){return Object(E.jsx)("div",{className:t[1]?"polygon blank":"polygon",style:{backgroundImage:t[1],backgroundSize:It,backgroundPosition:t[3],width:St,height:Pt,transform:t[4],zIndex:t[5]},children:t[2].length&&Object(E.jsx)("div",{className:"lighting",style:{backgroundImage:t[2]}})},e)}))]}),Object(E.jsx)("div",{className:"guard"})]})})})}})};n(69);var B=function(){return Object(E.jsx)(p.b,{children:Object(E.jsx)("div",{id:"app",children:Object(E.jsx)(z,{})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(E.jsx)(B,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[70,1,2]]]);
//# sourceMappingURL=main.0cb1d92f.chunk.js.map